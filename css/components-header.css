/**
 * Header Component - Design System Implementation
 * 
 * Pixel-perfect match to design.html top-bar
 * Includes: Logo, Input Pill, Actions (Sobre button, Copy/Dropdown)
 */

@layer components {
  /* ═══════════════════════════════════════════════════════════
     PAGE WRAPPER
     ═══════════════════════════════════════════════════════════ */
  
  .page-wrapper {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: var(--color-background-primary, #EAEAEA);
  }
  
  /* ═══════════════════════════════════════════════════════════
     TOP BAR / HEADER
     ═══════════════════════════════════════════════════════════ */
  
  .top-bar {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
    position: relative;
  }
  
  .logo {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-family: var(--font-sans);
    font-weight: var(--font-medium);
    font-size: var(--text-md);
    color: var(--color-foreground-primary, #35443D);
    letter-spacing: -0.03px; /* -0.48px / 16px */
    line-height: var(--leading-tight);
    height: 2rem; /* 32px */
    padding: 0.375rem 0.75rem; /* 6px 12px */
    text-decoration: none;
  }
  
  .top-bar-actions {
    display: flex;
    gap: var(--space-2);
    align-items: center;
  }
  
  /* ═══════════════════════════════════════════════════════════
     INPUT PILL (Results View)
     ═══════════════════════════════════════════════════════════ */
  
  .input-pill {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: 0.625rem; /* 10px */
    width: var(--input-pill-width, 17.5rem); /* 280px */
    border: 0.5px solid var(--color-border-default, rgba(0, 0, 0, 0.12));
    border-radius: var(--radius-lg);
    display: none;
  }
  
  .results-view .input-pill {
    display: block;
    animation: pillAppear var(--duration-slower, 250ms) var(--ease-out, cubic-bezier(0.16, 1, 0.3, 1)) forwards;
  }
  
  @keyframes pillAppear {
    0% {
      opacity: 0;
      transform: translateX(-50%) translateY(-0.375rem) scale(0.97);
    }
    100% {
      opacity: 1;
      transform: translateX(-50%) translateY(0) scale(1);
    }
  }
  
  .input-pill-inner {
    display: flex;
    align-items: center;
    gap: 0.375rem; /* 6px */
    padding: 0.375rem 0.375rem 0.375rem 0.75rem; /* 6px 6px 6px 12px */
    border: 0.5px solid white;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xs, 0px 2px 4px 0px rgba(0, 0, 0, 0.02));
  }
  
  .input-pill-mode {
    display: flex;
    align-items: center;
    gap: var(--space-1);
  }
  
  .input-pill-mode svg {
    width: 0.875rem; /* 14px */
    height: 0.875rem;
  }
  
  .input-pill-mode span {
    font-family: var(--font-sans);
    font-weight: var(--font-medium);
    font-size: var(--text-base, 0.875rem);
    line-height: 1.25rem; /* 20px */
    color: var(--color-foreground-primary, #35443D);
  }
  
  .input-pill-value {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.125rem; /* 2px */
    padding: 0.375rem 0;
  }
  
  .input-pill-value .amount {
    font-family: var(--font-sans);
    font-weight: var(--font-medium);
    font-size: var(--text-base, 0.875rem);
    line-height: 1.25rem;
    color: var(--color-foreground-primary, #35443D);
  }
  
  .input-pill-value .period {
    font-family: var(--font-mono);
    font-weight: var(--font-normal);
    font-size: var(--text-base, 0.875rem);
    line-height: 1.2;
    letter-spacing: -0.03px; /* -0.42px / 14px */
    color: var(--color-foreground-secondary, #8E8C89);
  }
  
  .input-pill-delete {
    width: 2rem; /* 32px */
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 0.5px solid var(--color-border-default, rgba(0, 0, 0, 0.12));
    border-radius: var(--radius-sm, 0.375rem);
    background: transparent;
    cursor: pointer;
    box-shadow: var(--shadow-icon-delete, 2px 2px 6px 0px rgba(0, 0, 0, 0.02));
    transition: transform var(--duration-normal, 150ms) var(--ease-bounce, cubic-bezier(0.22, 1, 0.36, 1));
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    -webkit-user-select: none;
  }
  
  .input-pill-delete:active {
    transform: scale(0.94);
  }
  
  .input-pill-delete-inner {
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 0.5px solid white;
    border-radius: var(--radius-sm);
    box-shadow: var(--shadow-xs);
  }
  
  .input-pill-delete svg {
    width: 0.875rem;
    height: 0.875rem;
  }
  
  /* ═══════════════════════════════════════════════════════════
     INPUT PILL - TWO MODES
     Estimado (simple) vs Preciso (invoice data)
     ═══════════════════════════════════════════════════════════ */
  
  .input-pill-content {
    display: flex;
    align-items: center;
    gap: 0.25rem; /* 4px */
  }
  
  /* Estimado mode - shown by default */
  .input-pill-estimado {
    display: flex;
  }
  
  /* Preciso mode - hidden by default */
  .input-pill-preciso {
    display: none;
  }
  
  /* When pill is in preciso mode (class on input-pill) */
  .input-pill.preciso-mode .input-pill-estimado {
    display: none;
  }
  
  .input-pill.preciso-mode .input-pill-preciso {
    display: flex;
  }
  
  /* Make input-pill wider when in preciso mode */
  .input-pill.preciso-mode {
    width: auto;
    min-width: 17.5rem; /* 280px minimum */
    max-width: calc(100vw - 360px); /* Leave room for logo and actions */
  }
  
  /* Responsive: reduce on smaller screens */
  @media (max-width: 768px) {
    .input-pill.preciso-mode {
      max-width: calc(100vw - 200px);
    }
    
    .input-pill-data {
      flex-wrap: wrap;
      gap: 0.25rem;
    }
  }
  
  /* Preciso pill icon (PDF icon) */
  .input-pill-icon {
    width: 2rem; /* 32px */
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 0.5px solid white;
    border-radius: var(--radius-sm, 0.375rem);
    background: white;
    box-shadow: 
      0px 0px 0px 0.5px rgba(74, 74, 79, 0.12),
      0px 1px 4px 0px rgba(0, 0, 0, 0.08);
    position: relative;
    overflow: hidden;
    flex-shrink: 0;
  }
  
  .input-pill-icon::after {
    content: '';
    position: absolute;
    inset: 0;
    box-shadow: 
      1px -1px 2px 0px rgba(255, 255, 255, 0.5) inset,
      -1px 1px 2px 0px rgba(0, 0, 0, 0.04) inset;
    pointer-events: none;
  }
  
  .input-pill-icon svg {
    width: 1.25rem; /* 20px */
    height: 1.25rem;
  }
  
  /* Preciso pill data */
  .input-pill-data {
    display: flex;
    align-items: center;
    gap: 0.5rem; /* 8px */
    height: 0.75rem; /* 12px - matches Figma */
    padding: 0.375rem 0; /* 6px vertical padding */
  }
  
  .pill-provider,
  .pill-value,
  .pill-label {
    font-family: var(--font-sans);
    font-weight: var(--font-medium);
    font-size: var(--text-base, 0.875rem);
    line-height: 1.25rem; /* 20px */
    white-space: nowrap;
  }
  
  .pill-provider {
    color: var(--color-foreground-primary, #35443D);
    opacity: 0.9;
  }
  
  .pill-label {
    color: var(--color-foreground-primary, #35443D);
    opacity: 0.6;
  }
  
  .pill-value {
    color: var(--color-foreground-primary, #35443D);
    opacity: 0.9;
  }
  
  .pill-separator {
    font-family: var(--font-sans);
    font-weight: var(--font-medium);
    font-size: var(--text-base, 0.875rem);
    line-height: 1.25rem;
    color: var(--color-foreground-primary, #35443D);
    opacity: 0.2;
  }
}

